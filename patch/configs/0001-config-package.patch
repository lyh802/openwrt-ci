From 3570b6e6bb40441ac09aad7b4886f795b4b3a110 Mon Sep 17 00:00:00 2001
From: lyh802 <lyh802@126.com>
Date: Thu, 25 Nov 2021 06:22:22 +0000
Subject: [PATCH] config package

---
 net/mwan3/files/etc/config/mwan3           | 26 ++++++++--------------
 net/tinyproxy/files/tinyproxy.config       |  3 ++-
 utils/watchcat/files/initd_watchcat        |  2 +-
 utils/watchcat/files/uci_defaults_watchcat |  2 +-
 4 files changed, 13 insertions(+), 20 deletions(-)

diff --git a/net/mwan3/files/etc/config/mwan3 b/net/mwan3/files/etc/config/mwan3
index 750d6c4ae..f6386fd1b 100644
--- a/net/mwan3/files/etc/config/mwan3
+++ b/net/mwan3/files/etc/config/mwan3
@@ -4,11 +4,9 @@ config globals 'globals'
 	option rtmon_interval '5'
 
 config interface 'wan'
-	option enabled '1'
-	list track_ip '8.8.4.4'
-	list track_ip '8.8.8.8'
-	list track_ip '208.67.222.222'
-	list track_ip '208.67.220.220'
+	option enabled '0'
+	list track_ip '119.29.29.29'
+	list track_ip '101.6.6.6'
 	option family 'ipv4'
 	option reliability '2'
 	option count '1'
@@ -23,10 +21,8 @@ config interface 'wan'
 
 config interface 'wan6'
 	option enabled '0'
-	list track_ip '2001:4860:4860::8844'
-	list track_ip '2001:4860:4860::8888'
-	list track_ip '2620:0:ccd::2'
-	list track_ip '2620:0:ccc::2'
+	list track_ip '2402:4e00::'
+	list track_ip '2001:da8::666'
 	option family 'ipv6'
 	option reliability '2'
 	option count '1'
@@ -37,10 +33,8 @@ config interface 'wan6'
 
 config interface 'wanb'
 	option enabled '0'
-	list track_ip '8.8.4.4'
-	list track_ip '8.8.8.8'
-	list track_ip '208.67.222.222'
-	list track_ip '208.67.220.220'
+	list track_ip '119.29.29.29'
+	list track_ip '101.6.6.6'
 	option family 'ipv4'
 	option reliability '1'
 	option count '1'
@@ -55,10 +49,8 @@ config interface 'wanb'
 
 config interface 'wanb6'
 	option enabled '0'
-	list track_ip '2001:4860:4860::8844'
-	list track_ip '2001:4860:4860::8888'
-	list track_ip '2620:0:ccd::2'
-	list track_ip '2620:0:ccc::2'
+	list track_ip '2402:4e00::'
+	list track_ip '2001:da8::666'
 	option family 'ipv6'
 	option reliability '1'
 	option count '1'
diff --git a/net/tinyproxy/files/tinyproxy.config b/net/tinyproxy/files/tinyproxy.config
index ac7b46ff0..82b350715 100644
--- a/net/tinyproxy/files/tinyproxy.config
+++ b/net/tinyproxy/files/tinyproxy.config
@@ -3,7 +3,7 @@ config tinyproxy
 #
 # Enable the proxy
 #
-option enabled 0
+option enabled 1
 
 #
 # Name of the user the tinyproxy daemon should switch to after the port
@@ -187,6 +187,7 @@ option ViaProxyName "tinyproxy"
 #
 # The following two ports are used by SSL.
 #
+list ConnectPort 80
 list ConnectPort 443
 list ConnectPort 563
 
diff --git a/utils/watchcat/files/initd_watchcat b/utils/watchcat/files/initd_watchcat
index 213186063..bd649eca0 100644
--- a/utils/watchcat/files/initd_watchcat
+++ b/utils/watchcat/files/initd_watchcat
@@ -26,7 +26,7 @@ timetoseconds() {
 load_watchcat() {
 	config_get period	$1 period
 	config_get mode		$1 mode		"always"
-	config_get pinghosts	$1 pinghosts	"8.8.8.8"
+	config_get pinghosts	$1 pinghosts	"119.29.29.29"
 	config_get pingperiod	$1 pingperiod
 	config_get forcedelay	$1 forcedelay	"0"
 
diff --git a/utils/watchcat/files/uci_defaults_watchcat b/utils/watchcat/files/uci_defaults_watchcat
index 49def81eb..74b165f99 100644
--- a/utils/watchcat/files/uci_defaults_watchcat
+++ b/utils/watchcat/files/uci_defaults_watchcat
@@ -4,7 +4,7 @@ uci -q show system.@watchcat[0] || {
 	uci add system watchcat
 	uci set system.@watchcat[0].period=6h
 	uci set system.@watchcat[0].mode=ping
-	uci set system.@watchcat[0].pinghosts=8.8.8.8
+	uci set system.@watchcat[0].pinghosts=119.29.29.29
 	uci set system.@watchcat[0].forcedelay=30
 	uci commit
 }
